{% import 'macros.html' as nap %}

{#

    This file is included by pool_edit.html and prefix_add.html. To suit each
    of these pages, the content is modified slightly at runtime when the page
    loads, so beware, this might cause some 'WTF!?'.

#}

<!-- 

    PREFIX ALLOCATION METHOD

-->
<div class="options-group" style="display: none;" id="prefix-alloc-method_container">
	<div class="options-content">
		<h3 class="options-group-heading">Prefix allocation method</h3>

		<div class="option">
			<dl>
				<dt style="text-align: left;">
					<input id="radio-from-pool" type="radio" name="prefix_alloc_method" value="from-pool">
					<label for="radio-from-pool">From pool</label>
				</dt>
				<dd>
					Get a prefix from a pre-defined prefix pool.
				</dd>
			</dl>
		</div>

		<div class="rule"></div>

		<div class="option">
			<dl>
				<dt style="text-align: left;">
					<input id="radio-from-prefix" type="radio" name="prefix_alloc_method" value="from-prefix">
					<label for="radio-from-prefix">From prefix</label>
				</dt>
				<dd>
					Get a prefix allocated from another prefix.
				</dd>
			</dl>
		</div>

		<div class="rule"></div>

		<div class="option">
			<dl>
				<dt style="text-align: left;">
					<input id="radio-manual" type="radio" name="prefix_alloc_method" value="manual">
					<label for="radio-manual">Manual</label>
				</dt>
				<dd>
					Specify all data manually
				</dd>
			</dl>
		</div>

	</div>
</div>

<!--

    FROM-POOL

-->
<div style="display: none;" id="from-pool_container">
	<div class="options-group">
		<div class="options-content">
			<h3 class="options-group-heading">Pool allocation options</h3>


			<div class="option">
				<dl>
					<dt style="text-align: left;">
						Family
					</dt>
					<dd>
						<input type="radio" name="prefix_family" value="4" id="family_4_radio" checked>
						<label for="family_4_radio">IPv4</label>
						<input type="radio" name="prefix_family" value="6" id="family_6_radio">
						<label for="family_6_radio">IPv6</label>
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option">
				<dl>
					<dt style="text-align: left;">
						Pool
					</dt>
					<dd>
						<input id="from-pool" type="text" name="from-pool">
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option" id="length_info_row" style="display: none;">
				<dl>
					<dt style="text-align: left;" id="length_edit_row">
						Prefix-length
					</dt>
					<dd id="length_edit_row">
						<span id="def_length_container"></span><br/>

						<input type="radio" name="edit_length" value="0" id="edit_length_default_radio" checked>
						<label for="edit_length_default_radio">Use default</label>
						<input type="radio" name="edit_length" value="1" id="edit_length_override_radio">
						<label for="edit_length_override_radio">Override</label>
						<br/>
						<div style="display: none;" id="length_row">
							<input type="text" name="prefix_length_pool">
						</div>
					</dd>
				</dl>
			</div>

		</div>
	</div>
</div>

<!--

    FROM-PREFIX

-->
<div style="display: none;" id="from-prefix_container">
	<div class="options-group">
		<div class="options-content">
			<h3 class="options-group-heading">Prefix allocation options</h3>
			<div class="options-guide">
				You have chosen to allocate your new prefix from inside another, already existing, prefix. Please use the search tool to find and select the prefix which you would like to allocate your new prefix from.
			</div>
			{{ nap.prefix_search_form(c.search_opt_parent, c.search_opt_child) }}
			{{ nap.prefix_search_result() }}
		</div>

		<div id="prefix_length_prefix_container" style="display: none;">
			<div id="prefix_length_prefix_bg" class="options-content">
				<table>
					<tr>
						<td>Allocating from</td>
						<td><span id="alloc_from_prefix"></span></td>
					</tr>
					<tr id="length_info_row">
						<td style="padding-right: 20px;">Prefix-length</td>
						<td>
							<input type="text" name="prefix_length_prefix">
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
</div>

<!--

    PREFIX DATA

-->
<div id="prefix_data_container" style="display: none;">
	<div class="options-group">
		<div class="options-content">
			<h3 class="options-group-heading">Prefix options</h3>
			<form method="post" id="prefix_data_form" action="{{ h.url(controller="prefix", action="add", schema=c.schema.id) }}">

			<div class="option" style="display: none;" id="prefix-row">
				<dl>
					<dt>
						Prefix
					</dt>
					<dd>
						<input type="text" name="prefix_prefix" value="{{ c.prefix }}"> <span class="required tooltip" title="This field is required, please fill in! :-)">*</span>
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option">
				<dl>
					<dt>
						Type
					</dt>
					<dd>
						<input id="radio-prefix-type-reservation" type="radio" name="prefix_type" value="reservation">
						<label for="radio-prefix-type-reservation">Reservation</label>
						<input id="radio-prefix-type-assignment" type="radio" name="prefix_type" value="assignment">
						<label for="radio-prefix-type-assignment">Assignment</label>
						<input id="radio-prefix-type-host" type="radio" name="prefix_type" value="host">
						<label id="label-prefix-type-host" for="radio-prefix-type-host">Host</label> <span class="required tooltip" title="This field is required, please fill in! :-)">*</span>
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option">
				<dl>
					<dt>
						Description
					</dt>
					<dd>
						<input type="text" name="prefix_description" style="width: 80%;" class="tooltip" title="A brief description of the prefix.">
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option" id="prefix_comment_container">
				<dl>
					<dt>
						Comment
					</dt>
					<dd>
						<span id="add_comment" style="font-size: 10px; color: gray; cursor: pointer; display: none;">add comment</span><input type="text" name="prefix_comment" style="width: 80%;">
					</dd>
				</dl>
			</div>

			<div class="rule" id="prefix_comment_rule"></div>

			<div class="option">
				<dl>
					<dt>
						Node&nbsp;FQDN
					</dt>
					<dd>
						<input type="text" name="prefix_node" class="tooltip" title="FQDN (Fully Qualified Domain Name) of the node where the prefix is in use, e.g. 'ams-rtr-1.example.com'">
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option">
				<dl>
					<dt>
						Country
					</dt>
					<dd>
						<input type="text" name="prefix_country" size=3 class="tooltip" title="Two-letter country code according to ISO-3166-1">
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option">
				<dl>
					<dt>
						SPAN order
					</dt>
					<dd>
						<input type="text" name="prefix_span_order" size=10>
					</dd>
				</dl>
			</div>

			<div class="rule"></div>
			<div class="option">
				<dl>
					<dt>
						Monitor
					</dt>
					<dd>
						<input type="checkbox" name="prefix_monitor" class="tooltip" title="Check to monitor this prefix." value="true"><br/>
						<span id="alarm_priority_container" style="">
							<br/>
							<span style="font-weight: bold; vertical-align: top;">Priority</span>
							<input type="radio" id="radio-prefix-alarm-prio-low" name="prefix_alarm_priority" value="low" checked>
							<label for="radio-prefix-alarm-prio-low">Low</label>
							<input type="radio" id="radio-prefix-alarm-prio-medium" name="prefix_alarm_priority" value="medium">
							<label for="radio-prefix-alarm-prio-medium">Medium</label>
							<input type="radio" id="radio-prefix-alarm-prio-high" name="prefix_alarm_priority" value="high">
							<label for="radio-prefix-alarm-prio-high">High</label>
						</span>
					</dd>
				</dl>
			</div>

			<div class="rule"></div>

			<div class="option">
				<dl>
					<dt>
					</dt>
					<dd>
						<input class="button button_green" type="submit" value="Add">
					</dd>
				</dl>
			</div>

			</form>
		</div>
	</div>
</div>

